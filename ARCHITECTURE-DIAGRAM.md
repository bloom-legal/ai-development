# sync-rules.sh Architecture Diagram

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        sync-rules.sh                             â”‚
â”‚                   Modular Building Blocks                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Building Block Configuration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Configuration Flags                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ENABLE_SUPERCLAUDE  = false  [Deprecated]              â”‚
â”‚  ENABLE_DIET103      = false  [Not Implemented]         â”‚
â”‚  ENABLE_SPECKIT      = true   [Active]                  â”‚
â”‚  ENABLE_CUSTOM       = true   [Active]                  â”‚
â”‚  ENABLE_RULESYNC     = true   [Active]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Modular Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         copy_template()                           â”‚
â”‚                    [Main Orchestrator]                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â”‚ Calls modular sync functions
                                â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  sync_speckit()      â”‚      â”‚  sync_custom()       â”‚
    â”‚  [ENABLED]           â”‚      â”‚  [ENABLED]           â”‚
    â”‚                      â”‚      â”‚                      â”‚
    â”‚  â€¢ Initialize .specify/     â”‚  â€¢ custom-refactor.mdâ”‚
    â”‚  â€¢ Create templates  â”‚      â”‚  â€¢ custom-upgrade.md â”‚
    â”‚  â€¢ Setup infrastructure     â”‚                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  sync_rulesync()     â”‚      â”‚  sync_superclaude()  â”‚
    â”‚  [ENABLED]           â”‚      â”‚  [DISABLED]          â”‚
    â”‚                      â”‚      â”‚                      â”‚
    â”‚  â€¢ Copy rules        â”‚      â”‚  â€¢ Sync from         â”‚
    â”‚  â€¢ Copy .aiignore    â”‚      â”‚    ~/.claude/commands/sc/
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  sync_diet103()      â”‚      â”‚  sync_hooks()        â”‚
    â”‚  [DISABLED]          â”‚      â”‚  [DISABLED]          â”‚
    â”‚                      â”‚      â”‚                      â”‚
    â”‚  â€¢ diet103 hooks     â”‚      â”‚  â€¢ Git hooks         â”‚
    â”‚  â€¢ diet103 skills    â”‚      â”‚  â€¢ Automation        â”‚
    â”‚  â€¢ Configurations    â”‚      â”‚  â€¢ Pre-commit, etc.  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚  sync_skills()       â”‚
                                    â”‚  [DISABLED]          â”‚
                                    â”‚                      â”‚
                                    â”‚  â€¢ AI skills         â”‚
                                    â”‚  â€¢ Capabilities      â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Source: template/                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚               â”‚               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  .rulesync/          â”‚   â”‚   â”‚  .claude/           â”‚
    â”‚  â€¢ commands/         â”‚   â”‚   â”‚  â€¢ commands/        â”‚
    â”‚  â€¢ rules/            â”‚   â”‚   â”‚                     â”‚
    â”‚  â€¢ .aiignore         â”‚   â”‚   â”‚  (Full commands)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  .specify/            â”‚
                  â”‚  (Created by SpecKit) â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â”‚ Sync to projects
                                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Project A       â”‚                           â”‚  Project B       â”‚
â”‚  â€¢ .rulesync/    â”‚                           â”‚  â€¢ .rulesync/    â”‚
â”‚  â€¢ .claude/      â”‚                           â”‚  â€¢ .claude/      â”‚
â”‚  â€¢ .specify/     â”‚                           â”‚  â€¢ .specify/     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Command Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Command: ./sync-rules.sh [sync|mcp|init|clean|update]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  sync / generate     â”‚      â”‚  mcp                 â”‚
    â”‚                      â”‚      â”‚                      â”‚
    â”‚  1. Display config   â”‚      â”‚  1. Display config   â”‚
    â”‚  2. Preflight check  â”‚      â”‚  2. Generate MCP     â”‚
    â”‚  3. Sync SuperClaude â”‚      â”‚  3. Sync to global   â”‚
    â”‚  4. Sync MCPs        â”‚      â”‚     â€¢ Cursor         â”‚
    â”‚  5. Sync projects    â”‚      â”‚     â€¢ Roo Code       â”‚
    â”‚     â€¢ copy_template()â”‚      â”‚     â€¢ Claude Desktop â”‚
    â”‚     â€¢ rulesync gen   â”‚      â”‚                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  init                â”‚      â”‚  clean               â”‚
    â”‚                      â”‚      â”‚                      â”‚
    â”‚  1. Find projects    â”‚      â”‚  1. Remove local     â”‚
    â”‚     without config   â”‚      â”‚     MCP configs      â”‚
    â”‚  2. copy_template()  â”‚      â”‚  2. Update           â”‚
    â”‚  3. create_config()  â”‚      â”‚     rulesync.jsonc   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  update              â”‚
    â”‚                      â”‚
    â”‚  1. npm update -g    â”‚
    â”‚     rulesync         â”‚
    â”‚  2. update_superclaude()
    â”‚  3. Run sync         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Building Block States

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Building Block States                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  SuperClaude   [â›” DISABLED]    Deprecated, being phased out    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â€¢ Commands from ~/.claude/commands/sc/                   â”‚  â”‚
â”‚  â”‚ â€¢ Conversion to Rulesync format                          â”‚  â”‚
â”‚  â”‚ â€¢ Sync to template and projects                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  diet103       [â¸ï¸ DISABLED]    Not yet implemented             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â€¢ Infrastructure: .diet103/                              â”‚  â”‚
â”‚  â”‚ â€¢ Hooks: Git automation                                  â”‚  â”‚
â”‚  â”‚ â€¢ Skills: AI-powered capabilities                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  SpecKit       [âœ… ENABLED]     Active                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â€¢ Initialize .specify/ directory                         â”‚  â”‚
â”‚  â”‚ â€¢ Setup templates and scripts                            â”‚  â”‚
â”‚  â”‚ â€¢ Configure for Claude AI                                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  Custom        [âœ… ENABLED]     Active                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â€¢ custom-refactor.md (parallel refactoring)              â”‚  â”‚
â”‚  â”‚ â€¢ custom-upgrade.md (dependency upgrades)                â”‚  â”‚
â”‚  â”‚ â€¢ Copy to .rulesync/commands/ and .claude/commands/      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  Rulesync      [âœ… ENABLED]     Active                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â€¢ Sync rules from template/.rulesync/rules/              â”‚  â”‚
â”‚  â”‚ â€¢ Copy .aiignore file                                    â”‚  â”‚
â”‚  â”‚ â€¢ Base configuration for all editors                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Migration Path

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SuperClaude â†’ diet103 Migration              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Phase 1: Current State (Now)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ENABLE_SUPERCLAUDE  = false  [Disabled]                    â”‚
â”‚  ENABLE_DIET103      = false  [Not implemented]             â”‚
â”‚  ENABLE_SPECKIT      = true   [Active]                      â”‚
â”‚  ENABLE_CUSTOM       = true   [Active]                      â”‚
â”‚  ENABLE_RULESYNC     = true   [Active]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Implement diet103
                        â–¼
Phase 2: Transition
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ENABLE_SUPERCLAUDE  = false  [Disabled]                    â”‚
â”‚  ENABLE_DIET103      = true   [Testing]                     â”‚
â”‚  ENABLE_SPECKIT      = true   [Active]                      â”‚
â”‚  ENABLE_CUSTOM       = true   [Active]                      â”‚
â”‚  ENABLE_RULESYNC     = true   [Active]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Remove SuperClaude code
                        â–¼
Phase 3: Final State
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [SuperClaude removed from codebase]                        â”‚
â”‚  ENABLE_DIET103      = true   [Active]                      â”‚
â”‚  ENABLE_SPECKIT      = true   [Active]                      â”‚
â”‚  ENABLE_CUSTOM       = true   [Active]                      â”‚
â”‚  ENABLE_RULESYNC     = true   [Active]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## File Structure

```
template/
â”œâ”€â”€ .rulesync/
â”‚   â”œâ”€â”€ commands/                    [SuperClaude + Custom]
â”‚   â”‚   â”œâ”€â”€ custom-refactor.md       âœ… ENABLED (Custom)
â”‚   â”‚   â”œâ”€â”€ custom-upgrade.md        âœ… ENABLED (Custom)
â”‚   â”‚   â”œâ”€â”€ agent.md                 â›” DISABLED (SuperClaude)
â”‚   â”‚   â”œâ”€â”€ analyze.md               â›” DISABLED (SuperClaude)
â”‚   â”‚   â””â”€â”€ ...                      â›” DISABLED (SuperClaude)
â”‚   â”œâ”€â”€ rules/                       âœ… ENABLED (Rulesync)
â”‚   â”‚   â”œâ”€â”€ rule1.md
â”‚   â”‚   â”œâ”€â”€ rule2.md
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ .aiignore                    âœ… ENABLED (Rulesync)
â”‚   â””â”€â”€ mcp.json.template            [Global MCP config]
â”‚
â”œâ”€â”€ .claude/
â”‚   â””â”€â”€ commands/                    [Full commands for Claude Code]
â”‚       â”œâ”€â”€ custom-refactor.md       âœ… ENABLED (Custom)
â”‚       â”œâ”€â”€ custom-upgrade.md        âœ… ENABLED (Custom)
â”‚       â””â”€â”€ ...
â”‚
â””â”€â”€ .specify/                        âœ… ENABLED (SpecKit)
    â”œâ”€â”€ templates/
    â”œâ”€â”€ scripts/
    â””â”€â”€ memory/

project/ (After sync)
â”œâ”€â”€ .rulesync/
â”‚   â”œâ”€â”€ commands/                    [Custom only]
â”‚   â”‚   â”œâ”€â”€ custom-refactor.md       âœ…
â”‚   â”‚   â””â”€â”€ custom-upgrade.md        âœ…
â”‚   â”œâ”€â”€ rules/                       âœ…
â”‚   â””â”€â”€ .aiignore                    âœ…
â”‚
â”œâ”€â”€ .claude/
â”‚   â””â”€â”€ commands/                    [Full commands]
â”‚       â”œâ”€â”€ custom-refactor.md       âœ…
â”‚       â””â”€â”€ custom-upgrade.md        âœ…
â”‚
â”œâ”€â”€ .specify/                        âœ… (SpecKit)
â”‚
â””â”€â”€ .diet103/                        â¸ï¸ (Future)
    â”œâ”€â”€ hooks/
    â””â”€â”€ skills/
```

## Execution Flow with Building Blocks

```
./sync-rules.sh sync
        â”‚
        â”œâ”€â–º Display Building Blocks Configuration
        â”‚   âœ“ SuperClaude:  DISABLED
        â”‚   âœ“ diet103:      DISABLED
        â”‚   âœ“ SpecKit:      ENABLED
        â”‚   âœ“ Custom:       ENABLED
        â”‚   âœ“ Rulesync:     ENABLED
        â”‚
        â”œâ”€â–º Preflight Check
        â”‚   â””â”€â–º check.sh validation
        â”‚
        â”œâ”€â–º Sync SuperClaude (if enabled)
        â”‚   â””â”€â–º [SKIPPED - DISABLED]
        â”‚
        â”œâ”€â–º Sync MCPs to Global
        â”‚   â”œâ”€â–º Generate mcp.json
        â”‚   â”œâ”€â–º Cursor: ~/.cursor/mcp.json
        â”‚   â”œâ”€â–º Roo Code: ~/Library/.../mcp_settings.json
        â”‚   â””â”€â–º Claude Desktop: ~/Library/.../claude_desktop_config.json
        â”‚
        â””â”€â–º For each project:
            â”‚
            â”œâ”€â–º copy_template()
            â”‚   â”‚
            â”‚   â”œâ”€â–º sync_speckit()      [ENABLED]
            â”‚   â”‚   â””â”€â–º Initialize .specify/
            â”‚   â”‚
            â”‚   â”œâ”€â–º sync_custom()       [ENABLED]
            â”‚   â”‚   â”œâ”€â–º custom-refactor.md
            â”‚   â”‚   â””â”€â–º custom-upgrade.md
            â”‚   â”‚
            â”‚   â”œâ”€â–º sync_rulesync()     [ENABLED]
            â”‚   â”‚   â”œâ”€â–º rules/*.md
            â”‚   â”‚   â””â”€â–º .aiignore
            â”‚   â”‚
            â”‚   â”œâ”€â–º sync_diet103()      [DISABLED]
            â”‚   â”‚   â””â”€â–º [SKIPPED]
            â”‚   â”‚
            â”‚   â”œâ”€â–º sync_hooks()        [DISABLED]
            â”‚   â”‚   â””â”€â–º [SKIPPED]
            â”‚   â”‚
            â”‚   â””â”€â–º sync_skills()       [DISABLED]
            â”‚       â””â”€â–º [SKIPPED]
            â”‚
            â””â”€â–º npx rulesync generate
                â””â”€â–º Generate editor configs
```

## Benefits Visualization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Before: Monolithic                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â”‚  copy_template()                                         â”‚ â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â”‚  â€¢ SpecKit initialization                               â”‚ â”‚
â”‚  â”‚  â€¢ SuperClaude commands                                 â”‚ â”‚
â”‚  â”‚  â€¢ Custom commands                                      â”‚ â”‚
â”‚  â”‚  â€¢ Rulesync rules                                       â”‚ â”‚
â”‚  â”‚  â€¢ Everything mixed together                            â”‚ â”‚
â”‚  â”‚  â€¢ Hard to modify                                       â”‚ â”‚
â”‚  â”‚  â€¢ All-or-nothing sync                                  â”‚ â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ Refactor
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     After: Modular                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ SpecKit    â”‚  â”‚ Custom     â”‚  â”‚ Rulesync   â”‚              â”‚
â”‚  â”‚ [ENABLED]  â”‚  â”‚ [ENABLED]  â”‚  â”‚ [ENABLED]  â”‚              â”‚
â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚              â”‚
â”‚  â”‚ Independentâ”‚  â”‚ Independentâ”‚  â”‚ Independentâ”‚              â”‚
â”‚  â”‚ Toggle     â”‚  â”‚ Toggle     â”‚  â”‚ Toggle     â”‚              â”‚
â”‚  â”‚ Upgrade    â”‚  â”‚ Upgrade    â”‚  â”‚ Upgrade    â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚SuperClaude â”‚  â”‚ diet103    â”‚  â”‚ Hooks      â”‚              â”‚
â”‚  â”‚ [DISABLED] â”‚  â”‚ [DISABLED] â”‚  â”‚ [DISABLED] â”‚              â”‚
â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚              â”‚
â”‚  â”‚ Deprecated â”‚  â”‚ Future     â”‚  â”‚ Future     â”‚              â”‚
â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                â”‚
â”‚  Benefits:                                                     â”‚
â”‚  âœ“ Independent control                                        â”‚
â”‚  âœ“ Clean migration                                            â”‚
â”‚  âœ“ Easy to add/remove                                         â”‚
â”‚  âœ“ Lower complexity                                           â”‚
â”‚  âœ“ Better testing                                             â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Legend

```
âœ… - Enabled and active
â›” - Disabled (deprecated)
â¸ï¸ - Disabled (not yet implemented)
ğŸ“‹ - Ready for implementation
```

## Quick Reference

| Building Block | Status | Files | Purpose |
|---------------|--------|-------|---------|
| SuperClaude | â›” DISABLED | `~/.claude/commands/sc/*.md` | Legacy commands (deprecated) |
| diet103 | â¸ï¸ DISABLED | `.diet103/*` | Next-gen infrastructure (future) |
| SpecKit | âœ… ENABLED | `.specify/*` | Templates and infrastructure |
| Custom | âœ… ENABLED | `custom-*.md` | Project-specific commands |
| Rulesync | âœ… ENABLED | `.rulesync/rules/*` | Base rules and config |
| Hooks | â¸ï¸ DISABLED | `.diet103/hooks/*` | Git automation (future) |
| Skills | â¸ï¸ DISABLED | `.diet103/skills/*` | AI capabilities (future) |

---

This architecture provides clear separation, independent control, and a smooth migration path from SuperClaude to diet103.
